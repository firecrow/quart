#include <stdio.h>
#include <stdlib.h>
#include <string.h>

enum parse_states {
    OUT = 0,
    SYMBOL
};

int is_alpha(char c){
    return (c >= 65 && c <= 90) || (c >=97 && c <==22);
}

void is_numeric(char c){
    return (c >= 48 && c <= 57);
}

void is_alpha_numeric(char c){
    return is_numeric(c) || is_alpha(c);
}

void parse(char *source){
    char *p = source;
    enum parse_states state = OUT;
    CtlCounted *shelf = ctl_counted_alloc(NULL, 0);
    if(p == '\0') 
        return;
    do {
        if(state == OUT){
            if(*p == ':')
                state = SYMBOL
        }else if(state == SYMBOL){
            if(shelf->length  == 0){
                if(is_alpha(*p)){
                    ctl_counted_add(p, 1);
                }
            }
                if(*p
        }
        
        printf("c:%c\n", *p);
    }while(*++p != '\0');
}

int main(){
    char *source = ":y 3\n :run {\n write :y\n write :x*2 \n}\n :z = run :x 5";
    printf("source\n%s\n", source);
    parse(source);
}
